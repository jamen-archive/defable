use std::os::raw::{c_float,c_long};

use crate::cxx;
use crate::{
    C3DVector,
    CDefPointer,
    CHeroCombatDef,
    CPlayerMovementDef,
    CThingCreatureBase,
    UnknownEmptyType,
};

#[derive(Debug)]
#[repr(C)]
pub struct CThingPlayerCreature {
    pub vmt: *mut (),
    pub c_thing_creature_base: CThingCreatureBase,
    pub control_pos: C3DVector,
    pub control_move_by_vector: C3DVector,
    pub moved_by_player: UnknownEmptyType,
    pub jumping: UnknownEmptyType,
    /// An unknown type with 4 bytes.
    pub pad1: u32,
    pub controlled_movement_type: EControlledMovementType,
    pub movement_acceleration: C3DVector,
    pub max_slow_walking_speed: c_long,
    pub max_walking_speed: c_float,
    pub max_jogging_speed: c_float,
    pub max_running_speed: c_float,
    pub max_springing_speed: c_float,
    pub max_flying_speed: c_float,
    pub max_strafing_speed: c_float,
    pub relative_movement_acceleration_components: cxx::StdMap<EGameAction, cxx::StdPair<C3DVector, c_long>, cxx::StdLess<EGameAction>>,
    pub relative_movement_acceleration: C3DVector,
    pub last_relative_movement_acceleration: C3DVector,
    pub collided_with_thing: bool,
    pub last_thing_collision_normal: C3DVector,
    pub last_thing_collision_position: C3DVector,
    pub p_hero_combat_def: CDefPointer<CHeroCombatDef>,
    pub p_player_movement_def: CDefPointer<CPlayerMovementDef>,
    pub impulse_velocity: C3DVector,
    pub lean_angle: c_float,
    pub movement_band_type: EMovementBandType,
}

#[allow(non_camel_case_types)]
#[derive(Debug)]
#[repr(C)]
pub enum EControlledMovementType {
    CONTROLLED_MOVEMENT_NULL = 0,
    CONTROLLED_MOVEMENT_WALKING = 1,
    CONTROLLED_MOVEMENT_FLYING = 2,
    CONTROLLED_MOVEMENT_FIRST_PERSON = 3,
}

#[allow(non_camel_case_types)]
#[derive(Debug)]
#[repr(C)]
pub enum EMovementBandType {
    MOVEMENT_BAND_STATIONARY = 0,
    MOVEMENT_BAND_SLOW_WALKING = 1,
    MOVEMENT_BAND_WALKING = 2,
    MOVEMENT_BAND_RUNNING = 3,
    MOVEMENT_BAND_JOGGING = 4,
    MOVEMENT_BAND_SNEAKING = 5,
}

#[allow(non_camel_case_types)]
#[derive(Debug)]
#[repr(C)]
pub enum EGameAction {
    GAME_ACTION_NULL = 0x0,
    GAME_ACTION_LOCK_TARGET = 0x1,
    GAME_ACTION_OPEN_INVENTORY = 0x2,
    GAME_ACTION_OPEN_IN_GAME_MENU = 0x3,
    GAME_ACTION_TOGGLE_MINI_MAP = 0x4,
    GAME_ACTION_PAUSE = 0x5,
    GAME_ACTION_INTERACT = 0x6,
    GAME_ACTION_BLOCK = 0x7,
    GAME_ACTION_SPECIAL_ATTACK = 0x8,
    GAME_ACTION_ATTACK = 0x9,
    GAME_ACTION_FIRE_RANGED_WEAPON = 0xa,
    GAME_ACTION_UNARMED_ATTACK = 0xb,
    GAME_ACTION_ARMED_MELEE_ATTACK = 0xc,
    GAME_ACTION_UNSHEATHE_MELEE_WEAPON = 0xd,
    GAME_ACTION_UNSHEATHE_RANGED_WEAPON = 0xe,
    GAME_ACTION_SHEATHE_MELEE_WEAPON = 0xf,
    GAME_ACTION_SHEATHE_RANGED_WEAPON = 0x10,
    GAME_ACTION_TOGGLE_SILENT_MOVE = 0x11,
    GAME_ACTION_TOGGLE_CINEMATIC_AND_USER_CAMERA = 0x12,
    GAME_ACTION_TOGGLE_FIRST_PERSON_VIEW = 0x13,
    GAME_ACTION_SKIP_PAST_TEXT = 0x14,
    GAME_ACTION_SKIP_CUT_SCENE = 0x15,
    GAME_ACTION_ANSWER_QUESTION_YES = 0x16,
    GAME_ACTION_ANSWER_QUESTION_NO = 0x17,
    GAME_ACTION_ANSWER_QUESTION_THIRD = 0x18,
    GAME_ACTION_INVENTORY_SELECT = 0x19,
    GAME_ACTION_ATTRACT_EXPERIENCE_ORBS = 0x1a,
    GAME_ACTION_ROTATE_GUI_SCREENS_LEFT = 0x1b,
    GAME_ACTION_ROTATE_GUI_SCREENS_RIGHT = 0x1c,
    GAME_ACTION_JUMP = 0x1d,
    GAME_ACTION_SPRINT = 0x1e,
    GAME_ACTION_RUN = 0x1f,
    GAME_ACTION_SNEAK = 0x20,
    GAME_ACTION_INVENTORY_A = 0x21,
    GAME_ACTION_INVENTORY_B = 0x22,
    GAME_ACTION_INVENTORY_X = 0x23,
    GAME_ACTION_INVENTORY_Y = 0x24,
    GAME_ACTION_INVENTORY_UP = 0x25,
    GAME_ACTION_INVENTORY_DOWN = 0x26,
    GAME_ACTION_INVENTORY_LEFT = 0x27,
    GAME_ACTION_INVENTORY_RIGHT = 0x28,
    GAME_ACTION_INVENTORY_WHITE = 0x29,
    GAME_ACTION_TAVERN_GAMES_INSTRUCTIONS = 0x2a,
    GAME_ACTION_FISHING_REEL_IN = 0x2b,
    GAME_ACTION_FISHING_CANCEL = 0x2c,
    GAME_ACTION_TOGGLE_FIRST_PERSON_TARGETING = 0x2d,
    GAME_ACTION_FIRST_PERSON_TARGET_LOCK = 0x2e,
    GAME_ACTION_FIRST_PERSON_ZOOM_IN = 0x2f,
    GAME_ACTION_GENERAL_LEAVE_PLAYER_MODE = 0x30,
    GAME_ACTION_DEBUG_JUMP_1 = 0x31,
    GAME_ACTION_DEBUG_JUMP_2 = 0x32,
    GAME_ACTION_DEBUG_CAMERA = 0x33,
    GAME_ACTION_DEBUG_SHIFT = 0x34,
    GAME_ACTION_TAKE_PHOTO_FOR_PHOTOJOURNAL = 0x35,
    GAME_ACTION_ASSIGNABLE_SPECIAL_MOVE = 0x36,
    GAME_ACTION_QUICK_ACCESS_ITEM = 0x37,
    GAME_ACTION_CONTEXT_SENSITIVE_ITEM = 0x38,
    GAME_ACTION_CYCLE_THROUGH_SPELLS = 0x39,
    GAME_ACTION_COIN_GOLF_CANCEL_AIM = 0x3a,
    GAME_ACTION_CONFIRM_RESET_TO_FRONT_END = 0x3b,
    GAME_ACTION_MOVEMENT = 0x3c,
    GAME_ACTION_CAMERA_ROTATE = 0x3d,
    GAME_ACTION_CAMERA_ROTATE_LEFT = 0x3e,
    GAME_ACTION_CAMERA_ROTATE_RIGHT = 0x3f,
    GAME_ACTION_CAMERA_ZOOM_IN = 0x40,
    GAME_ACTION_CAMERA_ZOOM_OUT = 0x41,
    GAME_ACTION_ORACLE_MINIGAME_UP = 0x42,
    GAME_ACTION_ORACLE_MINIGAME_DOWN = 0x43,
    GAME_ACTION_ORACLE_MINIGAME_LEFT = 0x44,
    GAME_ACTION_ORACLE_MINIGAME_RIGHT = 0x45,
    GAME_ACTION_ORACLE_MINIGAME_QUIT = 0x46,
    GAME_ACTION_MOVE_MOUSE_ON_GUI = 0x47,
    GAME_ACTION_TOGGLE_LIVE_GUI = 0x48,
    GAME_ACTION_OPEN_EXPRESSION_MENU = 0x49,
    GAME_ACTION_TOGGLE_DEACTIVATE_LOCK_TARGET = 0x4a,
    GAME_ACTION_FIRST_PERSON_LOOKAROUND = 0x4b,
    GAME_ACTION_INVENTORY_UNSELECT = 0x4c,
    GAME_ACTION_CAMERA_MOVE_DOUBLE_AXIS = 0x4d,
    GAME_ACTION_CHARGE_GUILD_SEAL = 0x4e,
    GAME_ACTION_TAVERN_GAME_MOVEMENT = 0x4f,
    GAME_ACTION_TAVERN_GAME_CAMERA = 0x50,
    GAME_ACTION_TAVERN_GAME_ACTION_BUTTON = 0x51,
    GAME_ACTION_TAVERN_GAME_ALTERNATE_BUTTON = 0x52,
    GAME_ACTION_TAVERN_GAME_QUIT = 0x53,
    GAME_ACTION_PROJECTILE_TARGETING_ANALOGUE_ZOOM = 0x54,
    GAME_ACTION_TOGGLE_PASSIVE_AGGRESSIVE_MODE = 0x55,
    GAME_ACTION_ACTIVATE_SPELL_MODE = 0x56,
    GAME_ACTION_EXPRESSION_SHIFT = 0x57,
    GAME_ACTION_SCROLL_DESCRIPTION_UP = 0x58,
    GAME_ACTION_SCROLL_DESCRIPTION_DOWN = 0x59,
    GAME_ACTION_OPEN_WEAPONS_MENU = 0x5a,
    GAME_ACTION_OPEN_CLOTHING_MENU = 0x5b,
    GAME_ACTION_OPEN_ITEMS_MENU = 0x5c,
    GAME_ACTION_OPEN_CURRENT_QUESTS_MENU = 0x5d,
    GAME_ACTION_CYCLE_THROUGH_SPELLS_KEYBOARD = 0x5e,
    GAME_ACTION_TOGGLE_KILL_EVERYTHING_MODE = 0x5f,
    GAME_ACTION_OPEN_MAGIC_MENU = 0x60,
    GAME_ACTION_OPEN_EXPRESSIONS_MENU = 0x61,
    GAME_ACTION_OPEN_PERSONALITY_MENU = 0x62,
    GAME_ACTION_OPEN_LOGBOOK_MENU = 0x63,
    GAME_ACTION_OPEN_MAP_MENU = 0x64,
    GAME_ACTION_SCROLL_MENU = 0x65,
    GAME_ACTION_ZOOM_MAP_OUT = 0x66,
    GAME_ACTION_ZOOM_MAP_IN = 0x67,
    GAME_ACTION_SCROLL_MAP_LEFT = 0x68,
    GAME_ACTION_SCROLL_MAP_RIGHT = 0x69,
    GAME_ACTION_SCROLL_MAP_DOWN = 0x6a,
    GAME_ACTION_SCROLL_MAP_UP = 0x6b,
    GAME_ACTION_OPTIONS_SLIDER_LEFT = 0x6c,
    GAME_ACTION_OPTIONS_SLIDER_RIGHT = 0x6d,
    GAME_ACTION_DIGITAL_ANALOGUE_ZOOM_IN = 0x6e,
    GAME_ACTION_DIGITAL_ANALOGUE_ZOOM_OUT = 0x6f,
    GAME_ACTION_TOGGLE_VIEW_HERO_MODE = 0x70,
    GAME_ACTION_CENTRE_CAMERA = 0x71,
    GAME_ACTION_BETTING = 0x72,
    GAME_ACTION_COUNT = 0x73,
}